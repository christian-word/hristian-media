<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Онлайн Трансляція - Дім Євангелія</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;800&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

:root {
  --primary-gold: #D4AF37;
  --primary-green: #2D6A4F;
  --primary-blue: #457B9D;
  --text-dark: #2B2D42;
}

body {
  font-family: 'Inter', sans-serif;
  background: var(--text-dark);
  color: white;
  min-height: 100vh;
}

.livestream-page {
  max-width: 1400px;
  margin: 0 auto;
  padding: 20px;
}

.header-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 0;
  border-bottom: 1px solid rgba(255,255,255,0.1);
  margin-bottom: 30px;
}

.logo {
  display: flex;
  align-items: center;
  gap: 15px;
  color: white;
  text-decoration: none;
  transition: transform 0.3s;
}

.logo:hover { transform: scale(1.05); }

.logo i {
  font-size: 2rem;
  color: var(--primary-gold);
}

.logo h1 {
  font-family: 'Playfair Display', serif;
  font-size: 1.5rem;
}

.back-btn {
  padding: 12px 30px;
  background: rgba(255,255,255,0.1);
  border: 1px solid rgba(255,255,255,0.2);
  border-radius: 50px;
  color: white;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  transition: all 0.3s;
}

.back-btn:hover {
  background: var(--primary-gold);
  color: var(--text-dark);
  border-color: var(--primary-gold);
}

.main-content {
  display: grid;
  grid-template-columns: 1fr 380px;
  gap: 30px;
  margin-bottom: 40px;
}

.video-section {
  background: #000;
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 20px 60px rgba(0,0,0,0.5);
}

.video-container {
  position: relative;
  padding-bottom: 56.25%;
  background: #000;
}

.video-container iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 20px 20px 0 0;
}

.video-info {
  padding: 25px;
  background: rgba(255,255,255,0.05);
}

.video-info h2 {
  font-size: 1.5rem;
  margin-bottom: 15px;
  color: var(--primary-gold);
  line-height: 1.4;
}

.video-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  color: rgba(255,255,255,0.7);
  font-size: 0.95rem;
}

.video-meta span {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* SIDEBAR */
.sidebar {
  background: rgba(255,255,255,0.05);
  border-radius: 20px;
  padding: 25px;
  height: fit-content;
  position: sticky;
  top: 20px;
}

.sidebar h3 {
  color: var(--primary-gold);
  margin-bottom: 20px;
  font-size: 1.3rem;
  display: flex;
  align-items: center;
  gap: 10px;
}

/* DATABASE SWITCHER */
.db-switcher {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 10px;
  margin-bottom: 25px;
}

.db-btn {
  padding: 12px;
  background: rgba(255,255,255,0.05);
  border: 2px solid rgba(255,255,255,0.1);
  border-radius: 12px;
  color: rgba(255,255,255,0.7);
  cursor: pointer;
  transition: all 0.3s;
  font-size: 0.85rem;
  font-weight: 600;
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}

.db-btn i {
  font-size: 1.5rem;
}

.db-btn:hover {
  background: rgba(255,255,255,0.1);
  border-color: rgba(255,255,255,0.3);
}

.db-btn.active {
  background: var(--primary-gold);
  color: var(--text-dark);
  border-color: var(--primary-gold);
}

/* SEARCH BOX */
.search-box {
  position: relative;
  margin-bottom: 25px;
}

.search-input {
  width: 100%;
  padding: 15px 45px 15px 20px;
  background: rgba(255,255,255,0.05);
  border: 2px solid rgba(255,255,255,0.1);
  border-radius: 12px;
  color: white;
  font-size: 0.95rem;
  transition: all 0.3s;
}

.search-input:focus {
  outline: none;
  background: rgba(255,255,255,0.08);
  border-color: var(--primary-gold);
}

.search-input::placeholder {
  color: rgba(255,255,255,0.5);
}

.search-icon {
  position: absolute;
  right: 15px;
  top: 50%;
  transform: translateY(-50%);
  color: rgba(255,255,255,0.5);
  pointer-events: none;
}

.clear-search {
  position: absolute;
  right: 45px;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: rgba(255,255,255,0.5);
  cursor: pointer;
  padding: 5px;
  display: none;
  transition: color 0.3s;
}

.clear-search:hover {
  color: white;
}

.clear-search.visible {
  display: block;
}

/* STATS */
.stats-box {
  background: rgba(212, 175, 55, 0.1);
  border: 1px solid var(--primary-gold);
  border-radius: 12px;
  padding: 20px;
}

.stats-box h4 {
  color: var(--primary-gold);
  margin-bottom: 15px;
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 1.1rem;
}

.stats-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
}

.stat-item {
  text-align: center;
  padding: 10px;
  background: rgba(255,255,255,0.05);
  border-radius: 8px;
}

.stat-number {
  font-size: 1.8rem;
  font-weight: 700;
  color: var(--primary-gold);
  display: block;
}

.stat-label {
  font-size: 0.85rem;
  color: rgba(255,255,255,0.7);
}

/* TABS */
.tabs {
  display: flex;
  gap: 10px;
  margin: 40px 0 20px;
  border-bottom: 2px solid rgba(255,255,255,0.1);
  overflow-x: auto;
}

.tab {
  padding: 15px 30px;
  background: transparent;
  border: none;
  color: rgba(255,255,255,0.6);
  cursor: pointer;
  font-size: 1rem;
  font-weight: 600;
  border-bottom: 3px solid transparent;
  transition: all 0.3s;
  white-space: nowrap;
}

.tab.active {
  color: var(--primary-gold);
  border-bottom-color: var(--primary-gold);
}

.tab:hover { color: white; }

.video-count {
  display: inline-block;
  margin-left: 10px;
  padding: 4px 12px;
  background: rgba(212, 175, 55, 0.2);
  border-radius: 20px;
  font-size: 0.85rem;
  color: var(--primary-gold);
}

.tab-content {
  display: none;
  padding: 30px 0;
}

.tab-content.active {
  display: block;
}

/* PLAYLIST GRID */
.playlist-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 25px;
}

.playlist-item {
  background: rgba(255,255,255,0.05);
  border-radius: 15px;
  overflow: hidden;
  cursor: pointer;
  transition: all 0.3s;
}

.playlist-item:hover {
  transform: translateY(-5px);
  background: rgba(255,255,255,0.08);
  box-shadow: 0 10px 30px rgba(0,0,0,0.3);
}

.playlist-thumb {
  position: relative;
  padding-bottom: 56.25%;
  background: #333;
}

.playlist-thumb img {
  position: absolute;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.playlist-thumb .play-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.3s;
}

.playlist-item:hover .play-overlay {
  opacity: 1;
}

.play-overlay i {
  font-size: 3rem;
  color: var(--primary-gold);
}

.playlist-info {
  padding: 15px;
}

.playlist-info h4 {
  margin-bottom: 8px;
  font-size: 1rem;
  line-height: 1.4;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.playlist-info p {
  color: rgba(255,255,255,0.6);
  font-size: 0.85rem;
  display: flex;
  align-items: center;
  gap: 5px;
}

/* PAGINATION */
.pagination {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 10px;
  margin-top: 40px;
  flex-wrap: wrap;
}

.page-btn {
  padding: 12px 20px;
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 10px;
  color: rgba(255,255,255,0.7);
  cursor: pointer;
  transition: all 0.3s;
  font-size: 0.95rem;
  font-weight: 600;
}

.page-btn:hover {
  background: rgba(255,255,255,0.1);
  color: white;
}

.page-btn.active {
  background: var(--primary-gold);
  color: var(--text-dark);
  border-color: var(--primary-gold);
}

.page-btn:disabled {
  opacity: 0.3;
  cursor: not-allowed;
}

.page-info {
  color: rgba(255,255,255,0.7);
  font-size: 0.9rem;
  padding: 0 15px;
}

.loading-spinner {
  text-align: center;
  padding: 40px;
  color: rgba(255,255,255,0.6);
}

.loading-spinner i {
  font-size: 2rem;
  margin-bottom: 10px;
}

.no-results {
  text-align: center;
  padding: 60px 20px;
  color: rgba(255,255,255,0.6);
}

.no-results i {
  font-size: 4rem;
  margin-bottom: 20px;
  color: rgba(255,255,255,0.3);
}

.no-results h3 {
  font-size: 1.5rem;
  margin-bottom: 10px;
  color: rgba(255,255,255,0.8);
}

@media (max-width: 968px) {
  .main-content {
    grid-template-columns: 1fr;
  }
  
  .sidebar {
    position: static;
  }
  
  .db-switcher {
    grid-template-columns: 1fr;
  }
  
  .stats-grid {
    grid-template-columns: 1fr 1fr;
  }
  
  .header-bar {
    flex-direction: column;
    gap: 15px;
    text-align: center;
  }
  
  .playlist-grid {
    grid-template-columns: 1fr;
  }
  
  .logo h1 {
    font-size: 1.2rem;
  }
}
</style>
</head>
<body>

<div class="livestream-page">
  <!-- Header -->
  <div class="header-bar">
    <a href="index.html" class="logo">
      <i class="fas fa-church"></i>
      <h1>Дім Євангелія</h1>
    </a>
    <a href="index.html" class="back-btn">
      <i class="fas fa-arrow-left"></i>
      Назад на головну
    </a>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Video Player -->
    <div class="video-section">
      <div class="video-container" id="mainPlayer">
        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center;">
          <i class="fas fa-spinner fa-spin" style="font-size: 3rem; color: var(--primary-gold);"></i>
          <p style="margin-top: 20px; color: rgba(255,255,255,0.8);">Завантаження відео...</p>
        </div>
      </div>
      
      <div class="video-info">
        <h2 id="videoTitle">Служіння церкви "Дім Євангелія"</h2>
        <div class="video-meta">
          <span><i class="fas fa-calendar"></i> <span id="videoDate">Трансляція 24/7</span></span>
          <span><i class="fas fa-user"></i> <span id="videoChannel">Дім Євангелія</span></span>
          <span><i class="fas fa-video"></i> HD якість</span>
        </div>
      </div>
    </div>

    <!-- Sidebar -->
    <aside class="sidebar">
      <h3>
        <i class="fas fa-sliders-h"></i> Налаштування
      </h3>
      
      <!-- Database Switcher -->
      <div class="db-switcher">
        <button class="db-btn active" data-db="sermons" onclick="switchDatabase('sermons')">
          <i class="fas fa-microphone"></i>
          <span>Наші проповіді</span>
        </button>
        <button class="db-btn" data-db="other" onclick="switchDatabase('other')">
          <i class="fas fa-globe"></i>
          <span>Інші проповіді</span>
        </button>
        <button class="db-btn" data-db="music" onclick="switchDatabase('music')">
          <i class="fas fa-music"></i>
          <span>Музика</span>
        </button>
      </div>

      <!-- Search Box -->
      <div class="search-box">
        <input 
          type="text" 
          class="search-input" 
          id="searchInput"
          placeholder="Пошук відео..."
          autocomplete="off">
        <button class="clear-search" id="clearSearch" onclick="clearSearch()">
          <i class="fas fa-times"></i>
        </button>
        <i class="fas fa-search search-icon"></i>
      </div>

      <!-- Stats -->
      <div class="stats-box">
        <h4>
          <i class="fas fa-chart-bar"></i> Статистика
        </h4>
        <div class="stats-grid">
          <div class="stat-item">
            <span class="stat-number" id="totalVideos">0</span>
            <span class="stat-label">Всього відео</span>
          </div>
          <div class="stat-item">
            <span class="stat-number" id="foundVideos">0</span>
            <span class="stat-label">Знайдено</span>
          </div>
        </div>
      </div>
    </aside>
  </div>

  <!-- Tabs -->
  <div class="tabs">
    <button class="tab active" onclick="switchTab('latest')">
      <i class="fas fa-fire"></i> Останні
      <span class="video-count" id="latestCount">0</span>
    </button>
    <button class="tab" onclick="switchTab('all')">
      <i class="fas fa-video"></i> Всі відео
      <span class="video-count" id="allCount">0</span>
    </button>
  </div>

  <!-- Tab Content - Latest -->
  <div id="latest" class="tab-content active">
    <div class="playlist-grid" id="latestVideos">
      <div class="loading-spinner">
        <i class="fas fa-spinner fa-spin"></i>
        <p>Завантаження останніх відео...</p>
      </div>
    </div>
  </div>

  <!-- Tab Content - All -->
  <div id="all" class="tab-content">
    <div class="playlist-grid" id="allVideos">
      <div class="loading-spinner">
        <i class="fas fa-spinner fa-spin"></i>
        <p>Завантаження всіх відео...</p>
      </div>
    </div>
    
    <!-- Pagination -->
    <div class="pagination" id="pagination" style="display: none;">
      <button class="page-btn" id="prevBtn" onclick="changePage(-1)">
        <i class="fas fa-chevron-left"></i> Попередня
      </button>
      <span class="page-info" id="pageInfo">Сторінка 1 з 1</span>
      <button class="page-btn" id="nextBtn" onclick="changePage(1)">
        Наступна <i class="fas fa-chevron-right"></i>
      </button>
    </div>
  </div>

</div>

<script>
// ==================== GLOBAL VARIABLES ====================
let allVideosData = [];
let filteredVideos = [];
let currentDatabase = 'sermons';
let currentPage = 1;
const itemsPerPage = 10;
let searchTimeout = null;

// Database URLs
const databases = {
  sermons: 'https://raw.githubusercontent.com/christian-word/hristian-media/refs/heads/main/json/database.json',
  other: 'https://raw.githubusercontent.com/christian-word/hristian-media/refs/heads/main/json/database.json', // Замініть на URL іншої бази
  music: 'https://raw.githubusercontent.com/christian-word/hristian-media/refs/heads/main/json/music-database.json' // URL бази музики
};

// ==================== LOAD VIDEOS ====================
async function loadVideos() {
  try {
    const url = databases[currentDatabase];
    const response = await fetch(url);
    
    if (!response.ok) {
      throw new Error('Failed to load videos');
    }
    
    allVideosData = await response.json();
    filteredVideos = [...allVideosData];
    
    if (allVideosData.length === 0) {
      showNoVideos();
      return;
    }
    
    updateStats();
    
    // Load first video
    const firstVideo = allVideosData[0];
    playVideo(firstVideo.videoId, firstVideo.title, firstVideo.channel, firstVideo.publishedAt || firstVideo.date);
    
    // Load sections
    loadLatestVideos();
    loadAllVideos();
    
  } catch (error) {
    console.error('Error loading videos:', error);
    showError();
  }
}

// ==================== SWITCH DATABASE ====================
function switchDatabase(dbName) {
  currentDatabase = dbName;
  currentPage = 1;
  
  // Update button states
  document.querySelectorAll('.db-btn').forEach(btn => {
    btn.classList.remove('active');
  });
  document.querySelector(`[data-db="${dbName}"]`).classList.add('active');
  
  // Clear search
  document.getElementById('searchInput').value = '';
  document.getElementById('clearSearch').classList.remove('visible');
  
  // Reload videos
  loadVideos();
}

// ==================== SEARCH ====================
document.getElementById('searchInput')?.addEventListener('input', (e) => {
  const query = e.target.value.trim();
  
  // Show/hide clear button
  const clearBtn = document.getElementById('clearSearch');
  if (query.length > 0) {
    clearBtn.classList.add('visible');
  } else {
    clearBtn.classList.remove('visible');
  }
  
  // Debounce search
  clearTimeout(searchTimeout);
  searchTimeout = setTimeout(() => {
    performSearch(query);
  }, 300);
});

function performSearch(query) {
  if (!query) {
    filteredVideos = [...allVideosData];
  } else {
    const lowerQuery = query.toLowerCase();
    filteredVideos = allVideosData.filter(video => {
      const title = decodeHTML(video.title).toLowerCase();
      const channel = (video.channel || '').toLowerCase();
      return title.includes(lowerQuery) || channel.includes(lowerQuery);
    });
  }
  
  currentPage = 1;
  updateStats();
  loadAllVideos();
  
  // Show no results message if needed
  if (filteredVideos.length === 0 && query) {
    document.getElementById('allVideos').innerHTML = `
      <div class="no-results">
        <i class="fas fa-search"></i>
        <h3>Нічого не знайдено</h3>
        <p>Спробуйте інший запит</p>
      </div>
    `;
  }
}

function clearSearch() {
  document.getElementById('searchInput').value = '';
  document.getElementById('clearSearch').classList.remove('visible');
  performSearch('');
}

// ==================== UPDATE STATS ====================
function updateStats() {
  document.getElementById('totalVideos').textContent = allVideosData.length;
  document.getElementById('foundVideos').textContent = filteredVideos.length;
}

// ==================== LOAD LATEST VIDEOS ====================
function loadLatestVideos() {
  const container = document.getElementById('latestVideos');
  const latest = filteredVideos.slice(0, 5); // Показуємо тільки 5 останніх
  
  document.getElementById('latestCount').textContent = latest.length;
  
  if (latest.length === 0) {
    container.innerHTML = '<div class="no-results"><i class="fas fa-video-slash"></i><p>Відео відсутні</p></div>';
    return;
  }
  
  container.innerHTML = latest.map(video => createVideoCard(video)).join('');
}

// ==================== LOAD ALL VIDEOS WITH PAGINATION ====================
function loadAllVideos() {
  const container = document.getElementById('allVideos');
  const pagination = document.getElementById('pagination');
  
  const totalPages = Math.ceil(filteredVideos.length / itemsPerPage);
  const startIndex = (currentPage - 1) * itemsPerPage;
  const endIndex = startIndex + itemsPerPage;
  const pageVideos = filteredVideos.slice(startIndex, endIndex);
  
  document.getElementById('allCount').textContent = filteredVideos.length;
  
  if (pageVideos.length === 0) {
    container.innerHTML = '<div class="no-results"><i class="fas fa-video-slash"></i><p>Відео відсутні</p></div>';
    pagination.style.display = 'none';
    return;
  }
  
  container.innerHTML = pageVideos.map(video => createVideoCard(video)).join('');
  
  // Update pagination
  if (totalPages > 1) {
    pagination.style.display = 'flex';
    document.getElementById('pageInfo').textContent = `Сторінка ${currentPage} з ${totalPages}`;
    document.getElementById('prevBtn').disabled = currentPage === 1;
    document.getElementById('nextBtn').disabled = currentPage === totalPages;
  } else {
    pagination.style.display = 'none';
  }
}

// ==================== PAGINATION ====================
function changePage(direction) {
  const totalPages = Math.ceil(filteredVideos.length / itemsPerPage);
  const newPage = currentPage + direction;
  
  if (newPage < 1 || newPage > totalPages) return;
  
  currentPage = newPage;
  loadAllVideos();
  
  // Scroll to top of videos
  document.getElementById('all').scrollIntoView({ behavior: 'smooth', block: 'start' });
}

// ==================== CREATE VIDEO CARD ====================
function createVideoCard(video) {
  const title = decodeHTML(video.title);
  const date = formatDate(video.publishedAt || video.date);
  const channel = video.channel || 'Дім Євангелія';
  
  return `
    <div class="playlist-item" data-video-id="${video.videoId}" data-video-title="${escapeHtml(title)}" data-video-channel="${channel}" data-video-date="${video.publishedAt || video.date}">
      <div class="playlist-thumb">
        <img src="${video.thumbnail}" 
             alt="${title}" 
             loading="lazy"
             onerror="this.src='https://via.placeholder.com/640x360/2D6A4F/FFFFFF?text=Відео'">
        <div class="play-overlay">
          <i class="fas fa-play-circle"></i>
        </div>
      </div>
      <div class="playlist-info">
        <h4>${title}</h4>
        <p><i class="fas fa-calendar"></i> ${date}</p>
      </div>
    </div>
  `;
}

// ==================== PLAY VIDEO ====================
function playVideo(videoId, title, channel, date) {
  const mainPlayer = document.getElementById('mainPlayer');
  mainPlayer.innerHTML = `
    <iframe 
      width="100%" 
      height="100%" 
      src="https://www.youtube.com/embed/${videoId}?autoplay=1" 
      title="${title}"
      frameborder="0" 
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
      allowfullscreen>
    </iframe>
  `;
  
  document.getElementById('videoTitle').textContent = decodeHTML(title);
  document.getElementById('videoChannel').textContent = channel;
  document.getElementById('videoDate').textContent = formatDate(date);
  
  mainPlayer.scrollIntoView({ behavior: 'smooth', block: 'start' });
}

// ==================== SWITCH TABS ====================
function switchTab(tabName) {
  document.querySelectorAll('.tab').forEach(tab => {
    tab.classList.remove('active');
  });
  event.target.closest('.tab').classList.add('active');
  
  document.querySelectorAll('.tab-content').forEach(content => {
    content.classList.remove('active');
  });
  document.getElementById(tabName).classList.add('active');
}

// ==================== HELPER FUNCTIONS ====================
function decodeHTML(text) {
  const textarea = document.createElement('textarea');
  textarea.innerHTML = text;
  return textarea.value;
}

function escapeHtml(text) {
  const map = {
    '&': '&amp;',
    '<': '&lt;',
    '>': '&gt;',
    '"': '&quot;',
    "'": '&#039;'
  };
  return text.replace(/[&<>"']/g, m => map[m]);
}

function formatDate(dateString) {
  return new Date(dateString).toLocaleDateString('uk-UA', {
    day: 'numeric',
    month: 'long',
    year: 'numeric'
  });
}

function showNoVideos() {
  const message = '<div class="no-results"><i class="fas fa-video-slash"></i><h3>Відео відсутні</h3></div>';
  document.getElementById('latestVideos').innerHTML = message;
  document.getElementById('allVideos').innerHTML = message;
}

function showError() {
  const message = '<div class="no-results"><i class="fas fa-exclamation-triangle" style="color: #ef4444;"></i><h3>Помилка завантаження</h3><p>Спробуйте оновити сторінку</p></div>';
  
  document.getElementById('latestVideos').innerHTML = message;
  document.getElementById('allVideos').innerHTML = message;
  document.getElementById('mainPlayer').innerHTML = `
    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center;">
      <i class="fas fa-exclamation-circle" style="font-size: 3rem; color: #ef4444;"></i>
      <p style="margin-top: 20px; color: rgba(255,255,255,0.8);">Помилка завантаження відео</p>
    </div>
  `;
}

// ==================== INIT ====================
document.addEventListener('DOMContentLoaded', () => {
  loadVideos();
  
  // Add click handler for video cards
  document.addEventListener('click', (e) => {
    const videoCard = e.target.closest('.playlist-item');
    if (videoCard) {
      const videoId = videoCard.dataset.videoId;
      const title = videoCard.dataset.videoTitle;
      const channel = videoCard.dataset.videoChannel;
      const date = videoCard.dataset.videoDate;
      
      if (videoId) {
        playVideo(videoId, title, channel, date);
      }
    }
  });
});
</script>

</body>
</html>